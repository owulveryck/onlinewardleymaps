<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OWM - Embeddable Wardley Maps</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
        }
        .page-container {
            min-height: 100%;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        p {
            color: #666;
            margin-bottom: 20px;
        }
        h2 {
            color: #666;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            margin: 30px 0 15px 0;
        }
        .owm-container {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            width: 100%;
            aspect-ratio: 16 / 9;
            max-height: 80vh;
        }
        pre.owm {
            display: none;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            margin: 10px 0;
        }
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .example-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .example-card h3 {
            margin-bottom: 10px;
            color: #333;
        }
        .example-card .owm-container {
            max-height: 400px;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <h1>OWM - Embeddable Wardley Maps</h1>
        <p>
            OWM is a JavaScript library for rendering Wardley Maps, similar to how
            <a href="https://mermaid.js.org/">Mermaid.js</a> renders diagrams.
        </p>

        <h2>Tea Shop Map (16:9, Full Width)</h2>
        <pre class="owm">
title Tea Shop
anchor Business [0.95, 0.63]
anchor Public [0.95, 0.78]
component Cup of Tea [0.79, 0.61] label [-85, 4]
component Cup [0.73, 0.78]
component Tea [0.63, 0.81]
component Hot Water [0.52, 0.80]
component Water [0.38, 0.82]
component Kettle [0.43, 0.35] label [-57, 4]
evolve Kettle->Electric Kettle 0.62 label [16, 5]
component Power [0.1, 0.7] label [-27, 20]
evolve Power 0.89 label [-12, 21]
Business->Cup of Tea
Public->Cup of Tea
Cup of Tea->Cup
Cup of Tea->Tea
Cup of Tea->Hot Water
Hot Water->Water
Hot Water->Kettle
Kettle->Power

style wardley
        </pre>

        <h2>More Examples</h2>
        <div class="examples-grid">
            <div class="example-card">
                <h3>Simple Value Chain</h3>
                <pre class="owm">
title Simple Value Chain
component Customer Need [0.9, 0.5]
component Product [0.7, 0.4]
component Service [0.5, 0.6]
component Platform [0.3, 0.7]
Customer Need->Product
Product->Service
Service->Platform

style plain
                </pre>
            </div>

            <div class="example-card">
                <h3>With Annotations</h3>
                <pre class="owm">
title Annotated Map
component User [0.95, 0.5]
component Application [0.7, 0.4]
component Database [0.4, 0.6]
component Cloud [0.2, 0.8]
User->Application
Application->Database
Database->Cloud

annotation 1 [0.65, 0.35] This is our main app
annotation 2 [0.35, 0.55] Data storage layer

style colour
                </pre>
            </div>
        </div>

        <h2>How to Use</h2>
        <div class="code-block">
<pre>&lt;!-- Include the OWM library --&gt;
&lt;script type="module"&gt;
  import owm from './owm.esm.mjs';
  owm.initialize({ startOnLoad: true });
&lt;/script&gt;

&lt;!-- Your Wardley Map definition --&gt;
&lt;pre class="owm"&gt;
title My Map
component Foo [0.5, 0.5]
component Bar [0.3, 0.7]
Foo-&gt;Bar
&lt;/pre&gt;</pre>
        </div>

        <h2>Configuration Options</h2>
        <div class="code-block">
<pre>owm.initialize({
  startOnLoad: true,        // Auto-render on page load
  selector: 'pre.owm',      // CSS selector for map elements
  theme: 'wardley',         // Theme: wardley, plain, colour, dark
  width: 1280,              // ViewBox width (16:9 default)
  height: 720               // ViewBox height (16:9 default)
});</pre>
        </div>

        <h2>Programmatic Rendering</h2>
        <div class="code-block">
<pre>// Render to a specific element
owm.render(document.getElementById('my-map'), mapText, { width: 1280 });

// Get SVG string directly
const svgString = owm.renderToString(mapText, { theme: 'colour' });

// Parse map text to object
const mapObject = owm.parse(mapText);</pre>
        </div>
    </div>

    <!-- Include the OWM library -->
    <script type="module">
        import owm from '../dist/owm.esm.mjs';
        owm.initialize({ startOnLoad: true });
    </script>
</body>
</html>
